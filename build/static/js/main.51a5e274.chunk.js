/*! For license information please see main.51a5e274.chunk.js.LICENSE.txt */
(this["webpackJsonpreact-firebase-auth-boilerplate"]=this["webpackJsonpreact-firebase-auth-boilerplate"]||[]).push([[0],{210:function(t,e,r){t.exports=r(293)},292:function(t,e,r){},293:function(t,e,r){"use strict";r.r(e);var n=r(0),o=r.n(n),a=r(64),i=r.n(a),c=r(47),u=r(45),l=r(4),s=r(16),f=r(193),d=r(15),h=r(132);function v(){v=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(_){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new j(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return k()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(_){return{type:"throw",arg:_}}}t.wrap=u;var s={};function f(){}function d(){}function h(){}var p={};c(p,o,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(L([])));y&&y!==e&&r.call(y,o)&&(p=y);var g=h.prototype=f.prototype=Object.create(p);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){var n;this._invoke=function(o,a){function i(){return new e((function(n,i){!function n(o,a,i,c){var u=l(t[o],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(o,a,n,i)}))}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function L(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(E.prototype),c(E.prototype,a,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new E(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},b(g),c(g,i,"Generator"),c(g,o,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var p={apiKey:"AIzaSyBWNp6IKaM9gBU-7ST5z-ixRFWeza_g1Jg",authDomain:"feriantes-5288d.firebaseapp.com",projectId:"feriantes-5288d",storageBucket:"feriantes-5288d.appspot.com",messagingSenderId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_KEY:"AIzaSyBWNp6IKaM9gBU-7ST5z-ixRFWeza_g1Jg",REACT_APP_APP_ID:"1:563848776837:web:b7e940b778984c7143edec",REACT_APP_AUTH_DOMAIN:"feriantes-5288d.firebaseapp.com",REACT_APP_DATABASE_URL:"",REACT_APP_MEASUREMENT_ID:"G-W12ZGPX6YW",REACT_APP_MESSAGING_SENDER:"563848776837",REACT_APP_PROJECT_ID:"feriantes-5288d",REACT_APP_STORAGE_BUCKET:"feriantes-5288d.appspot.com"}).REACT_APP_MESSAGING_SENDER_ID,appId:"1:563848776837:web:b7e940b778984c7143edec",measurementId:"G-W12ZGPX6YW"},m=f.a(p),y=Object(n.createContext)(void 0);function g(t){var e=t.children,r=Object(d.f)(m),a=Object(h.b)(m),i=Object(n.useState)(null),c=Object(s.a)(i,2),u=c[0],f=c[1],p=Object(n.useState)(!0),g=Object(s.a)(p,2),b=g[0],E=g[1];Object(h.c)(a,(function(t){f(t||null),E(!1)}));var w=function(){var t=Object(l.a)(v().mark((function t(){return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.signOut();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),O=Object(d.b)(r,"users");return o.a.createElement(y.Provider,{value:{createUserOnFirebase:function(t,e){return new Promise(function(){var r=Object(l.a)(v().mark((function r(n,o){var i;return v().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(h.a)(a,t,e);case 3:if((i=r.sent).user){r.next=7;break}return o(),r.abrupt("return");case 7:return r.next=9,O.doc(i.user.uid).set({email:i.user.email});case 9:n(),r.next=15;break;case 12:r.prev=12,r.t0=r.catch(0),o(r.t0);case 15:case"end":return r.stop()}}),r,null,[[0,12]])})));return function(t,e){return r.apply(this,arguments)}}())},doUserLoginOnFirebase:function(t,e){return new Promise(function(){var r=Object(l.a)(v().mark((function r(n,o){return v().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(h.d)(a,t,e);case 3:n(),r.next=9;break;case 6:r.prev=6,r.t0=r.catch(0),o(r.t0);case 9:case"end":return r.stop()}}),r,null,[[0,6]])})));return function(t,e){return r.apply(this,arguments)}}())},logoutUserFromFirebase:w,user:u,firestore:r,isFetchingUser:b}},e)}function b(){var t=Object(n.useContext)(y);if(void 0===t)throw new Error("useFirebase must be used within a FirebaseProvider");return t}function E(){E=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(_){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new j(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return k()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(_){return{type:"throw",arg:_}}}t.wrap=u;var s={};function f(){}function d(){}function h(){}var v={};c(v,o,(function(){return this}));var p=Object.getPrototypeOf,m=p&&p(p(L([])));m&&m!==e&&r.call(m,o)&&(v=m);var y=h.prototype=f.prototype=Object.create(v);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(o,a){function i(){return new e((function(n,i){!function n(o,a,i,c){var u=l(t[o],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(o,a,n,i)}))}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function L(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=h,c(y,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var w,O,x=Object(n.createContext)(void 0),j=function(t){var e=t.children,r=b(),n=r.createUserOnFirebase,a=r.doUserLoginOnFirebase,i=r.logoutUserFromFirebase,c=r.user,u=r.isFetchingUser,s=function(){return c},f=function(){var t=Object(l.a)(E().mark((function t(){return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return o.a.createElement(x.Provider,{value:{isLogged:!!s(),user:s(),isFetchingUser:u,doLogin:function(t,e){return new Promise(function(){var r=Object(l.a)(E().mark((function r(n,o){return E().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,a(t,e);case 3:n(),r.next=9;break;case 6:r.prev=6,r.t0=r.catch(0),o(r.t0);case 9:case"end":return r.stop()}}),r,null,[[0,6]])})));return function(t,e){return r.apply(this,arguments)}}())},doRegister:function(t,e){return new Promise(function(){var r=Object(l.a)(E().mark((function r(o,a){return E().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,n(t,e);case 3:o(),r.next=9;break;case 6:r.prev=6,r.t0=r.catch(0),a(r.t0);case 9:case"end":return r.stop()}}),r,null,[[0,6]])})));return function(t,e){return r.apply(this,arguments)}}())},doLogout:f}},e)},L=function(){var t=Object(n.useContext)(x);if(void 0===t)throw new Error("useAuthentication must be used within a AuthenticationProvider");return t},k=r(39),_=r(46),S=r(162),P=r(160),N=r(61),F=r(298);function C(){C=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new x(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function d(){}function h(){}var v={};c(v,o,(function(){return this}));var p=Object.getPrototypeOf,m=p&&p(p(j([])));m&&m!==e&&r.call(m,o)&&(v=m);var y=h.prototype=f.prototype=Object.create(v);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(o,a){function i(){return new e((function(n,i){!function n(o,a,i,c){var u=l(t[o],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(o,a,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=h,c(y,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var I,G,T,A,q,Y,D,M,R,U,V=_.a.div(w||(w=Object(u.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    background-color: #d7ffea;\n    height: 40px;\n    border-bottom: 1px solid gainsboro;\n    box-shadow: 0px 2px 4px 1px rgba(0, 0, 0, 0.1);\n    padding: 0 1em;\n"]))),B=_.a.div(O||(O=Object(u.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    margin: 1em;\n    width: calc(100% - 2em);\n"]))),K=function(t){var e=t.children,r=Object(c.g)(),n=L(),a=n.doLogout,i=n.user,u=function(){var t=Object(l.a)(C().mark((function t(){return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a();case 2:r.push("/login");case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return o.a.createElement("div",null,o.a.createElement(V,null,o.a.createElement("h3",{style:{margin:0,padding:0}},"La buena feria"),o.a.createElement(S.a,{trigger:["click"],overlay:o.a.createElement("div",null,o.a.createElement("div",{style:{width:"100%",padding:4,backgroundColor:"#fafafa"}},o.a.createElement("small",{style:{color:"gray"}},"Est\xe1s logueado como ",i.email)),o.a.createElement(P.a,{items:[{label:o.a.createElement(k.b,{to:"/"},"Inicio"),key:"-1"},{label:o.a.createElement(k.b,{to:"/productos"},"Productos"),key:"0"},{label:o.a.createElement(k.b,{to:"/eventos"},"Eventos"),key:"1"},{label:o.a.createElement(k.b,{to:"/reservas"},"Reservas"),key:"2"},{type:"divider"},{label:o.a.createElement("span",{onClick:function(){return u()}},"Cerrar sesi\xf3n"),key:"3"}]}))},o.a.createElement(N.a,null,o.a.createElement(F.a,null)))),o.a.createElement(B,null,e))},z=r(32),W=r(206),H=r(299),J=r(300),Q=r(65),X=r.n(Q),Z=_.a.div(I||(I=Object(u.a)(["\n    width: 105px;\n    height: 140px;\n    border-radius: 4px;\n    border: 1px solid gainsboro;\n    margin: 4px;\n    position: relative;\n    padding: 1em;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    background-color: ",";\n\n"])),(function(t){return t.color})),$=_.a.div(G||(G=Object(u.a)(["\n    position: absolute;\n    top: -6px;\n    right: -14px;\n"]))),tt=_.a.div(T||(T=Object(u.a)(["\n    display: flex;\n    justify-content: space-evenly;\n"]))),et=function(t){var e=t.product,r=t.mutateStatus,n=t.qty,a=t.modalPack,i=t.setModalPack,c=X.a.get(e,"tags[0]",""),u=c?(Object(z.a)(c).reduce((function(t,e){return t*e.charCodeAt()}),123123)%16777215).toString(16):"FFFFFF";return o.a.createElement(Z,{color:"#"+u},o.a.createElement($,null,!!n&&o.a.createElement(W.a,null,(null===n||void 0===n?void 0:n.qty)||n)),o.a.createElement("p",{style:{textShadow:"0px 0px 8px white",fontWeight:"bold",marginBottom:"6px"}},e.name),((null===n||void 0===n?void 0:n.qty)||n)>0&&o.a.createElement("strong",null,((null===n||void 0===n?void 0:n.qty)||n)*e.price,"\u20ac"),o.a.createElement(tt,null,o.a.createElement(N.a,{disabled:n<1,size:"small",onClick:function(){return r(e.id,-1,!!a)}},o.a.createElement(H.a,null)),o.a.createElement(N.a,{size:"small",onClick:function(){a?i({visible:!0,pack:e}):r(e.id,1)}},o.a.createElement(J.a,null))))},rt=_.a.div(A||(A=Object(u.a)(["\n    width: 110px;\n    height: 110px;\n    border-radius: 4px;\n    border: 1px solid gainsboro;\n    margin: 4px;\n    position: relative;\n    padding: 1em;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n\n"]))),nt=_.a.div(q||(q=Object(u.a)(["\n    position: absolute;\n    top: -6px;\n    right: -14px;\n"]))),ot=_.a.div(Y||(Y=Object(u.a)(["\n    display: flex;\n    justify-content: space-evenly;\n"]))),at=function(t){var e,r=t.product,n=t.pack,a=t.packItems,i=t.setPackItems,c=null===(e=a.filter((function(t){return t===(null===r||void 0===r?void 0:r.id)})))||void 0===e?void 0:e.length;return o.a.createElement(rt,null,o.a.createElement(nt,null,o.a.createElement(W.a,null,c)),r.name,o.a.createElement(ot,null,o.a.createElement(N.a,{disabled:(null===a||void 0===a?void 0:a.length)<0,size:"small",onClick:function(){var t=a.findIndex((function(t){return t===r.id}));i(a.filter((function(e,r){return r!==t})))}},o.a.createElement(H.a,null)),o.a.createElement(N.a,{disabled:(null===a||void 0===a?void 0:a.length)>=(null===n||void 0===n?void 0:n.units),size:"small",onClick:function(){i([].concat(Object(z.a)(a),[r.id]))}},o.a.createElement(J.a,null))))},it=_.a.div(D||(D=Object(u.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n  padding: 1em;\n"]))),ct=_.a.div(M||(M=Object(u.a)(["\n  height: 125px;\n  width: 125px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  border: 1px solid gainsboro;\n  border-radius: 4px;\n  box-shadow: 0 0 6px 1px rgba(0, 0, 0, 0.05);\n  margin: 0.5em;\n  color: #232323;\n  font-size: 1.6em;\n"]))),ut=function(){var t=L().user;return o.a.createElement(K,null,o.a.createElement("h3",null,"Ale ",null===t||void 0===t?void 0:t.email,", a vender mucho :)"),o.a.createElement(it,null,o.a.createElement(k.b,{to:"/eventos"},o.a.createElement(ct,null,"Eventos")),o.a.createElement(k.b,{to:"/reservas"},o.a.createElement(ct,null,"Reservas")),o.a.createElement(k.b,{to:"/productos"},o.a.createElement(ct,null,"Productos"))))},lt=r(296),st=r(202),ft=r(200);function dt(){dt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new x(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function d(){}function h(){}var v={};c(v,o,(function(){return this}));var p=Object.getPrototypeOf,m=p&&p(p(j([])));m&&m!==e&&r.call(m,o)&&(v=m);var y=h.prototype=f.prototype=Object.create(v);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(o,a){function i(){return new e((function(n,i){!function n(o,a,i,c){var u=l(t[o],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(o,a,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=h,c(y,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var ht=_.a.div(R||(R=Object(u.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100vh;\n  background-color: gainsboro;\n"]))),vt=_.a.div(U||(U=Object(u.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 1em;\n  border-radius: 4px;\n  background-color: white;\n  box-shadow: 0px 0px 6px 1px rgba(0, 0, 0, 0.1);\n"]))),pt=function(){var t=Object(c.g)(),e=L().doLogin,r=Object(n.useState)(!1),a=Object(s.a)(r,2),i=a[0],u=a[1],f=lt.a.useForm()[0],d=function(){var r=Object(l.a)(dt().mark((function r(){var n,o,a;return dt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=f.getFieldsValue(),o=n.email,a=n.password,r.prev=1,r.next=4,e(o,a);case 4:t.push("/"),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(1),"auth/wrong-password"===r.t0.code||"auth/user-not-found"===r.t0.code?st.b.error("Usuario o contrase\xf1a incorrectos"):(st.b.error("Ocurri\xf3 un problema en el proceso de login"),console.log(r.t0));case 10:u(!1);case 11:case"end":return r.stop()}}),r,null,[[1,7]])})));return function(){return r.apply(this,arguments)}}();return o.a.createElement(ht,null,o.a.createElement(vt,null,o.a.createElement(lt.a,{layout:"vertical",form:f,onFinish:function(){return d()}},o.a.createElement(lt.a.Item,{type:"email",rules:[{required:!0,message:"Campo requerido"}],label:"Email",name:"email"},o.a.createElement(ft.a,null)),o.a.createElement(lt.a.Item,{type:"password",rules:[{required:!0,message:"Campo requerido"}],label:"Contrase\xf1a",name:"password"},o.a.createElement(ft.a.Password,null)),o.a.createElement(N.a,{type:"primary",disabled:i,loading:i,onClick:function(){return f.submit()}},"Acceder"))))},mt=r(9),yt=r(22);function gt(){gt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new x(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function d(){}function h(){}var v={};c(v,o,(function(){return this}));var p=Object.getPrototypeOf,m=p&&p(p(j([])));m&&m!==e&&r.call(m,o)&&(v=m);var y=h.prototype=f.prototype=Object.create(v);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(o,a){function i(){return new e((function(n,i){!function n(o,a,i,c){var u=l(t[o],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(o,a,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=h,c(y,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var bt=function(){var t=Object(c.g)().push,e=L().doRegister,r=Object(n.useState)(!1),a=Object(s.a)(r,2),i=a[0],u=a[1],f=Object(n.useState)({email:"",password:""}),d=Object(s.a)(f,2),h=d[0],v=d[1],p=function(){var r=Object(l.a)(gt().mark((function r(){var n,o;return gt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=h.email,o=h.password,r.prev=1,u(!0),r.next=5,e(n,o);case 5:t("/"),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(1),u(!1);case 11:case"end":return r.stop()}}),r,null,[[1,8]])})));return function(){return r.apply(this,arguments)}}(),m=function(t){v(Object(yt.a)(Object(yt.a)({},h),{},Object(mt.a)({},t.target.name,t.target.value)))};return o.a.createElement("form",null,o.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},o.a.createElement("div",null,o.a.createElement("label",{htmlFor:"email"},"Email"),o.a.createElement("input",{type:"email",required:!0,id:"email",name:"email",value:h.email,onChange:m})),o.a.createElement("div",null,o.a.createElement("label",{htmlFor:"password"},"Password"),o.a.createElement("input",{type:"password",required:!0,id:"password",name:"password",value:h.password,onChange:m})),o.a.createElement("div",{style:{display:"flex",flexDirection:"column",width:"fit-content"}},o.a.createElement("button",{disabled:i,onClick:p},i?"registering...":"register"),o.a.createElement(k.b,{to:"/login"},"I already have an account"))))},Et=r(294),wt=r(297),Ot=r(133),xt=r(301),jt=r(302),Lt=r(131),kt=function(t){var e=t.desea,r=t.esto,n=t.title,a=t.text,i=t.bypass,c=t.loading,u=t.safer,l=t.field,s=t.cancelText,f=t.fn,d=u?(e+" "+r).toLocaleUpperCase():"";i?f():wt.a.confirm({className:"customConfirm",icon:o.a.createElement(Lt.a,{color:"#FFAB24"}),title:n||"\xbfEst\xe1 seguro de que desea ".concat(e," ").concat(r,"?"),content:o.a.createElement("div",null,o.a.createElement("p",null,a),u&&o.a.createElement(o.a.Fragment,null,o.a.createElement("br",null),o.a.createElement("p",null,'Si quieres continuar, escribe "',d,'" en el campo que tienes a continuaci\xf3n'),o.a.createElement(lt.a.Item,null,o.a.createElement(ft.a,{onChange:function(t){return l.current=t.target.value}}))),o.a.createElement("br",null),o.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},o.a.createElement(N.a,{style:{marginRight:"1em"},onClick:function(){return wt.a.destroyAll()}},s||"Cancelar"),o.a.createElement(N.a,{type:"primary",onClick:function(){if(u){if(!l)throw new Error('Para usar la opci\xf3n safer hay que pasar un ref de tipo string en el prop field `const fieldRef = useRef<string>("")`');d===(l.current||"").toLocaleUpperCase()?(f(),l.current="",wt.a.destroyAll()):st.b.warning("Introduzca el texto de confirmaci\xf3n")}else f(),wt.a.destroyAll()}},Object(Q.capitalize)(e)||"Aceptar"))),onOk:function(){},okButtonProps:{loading:c}})};function _t(){_t=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new x(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function d(){}function h(){}var v={};c(v,o,(function(){return this}));var p=Object.getPrototypeOf,m=p&&p(p(j([])));m&&m!==e&&r.call(m,o)&&(v=m);var y=h.prototype=f.prototype=Object.create(v);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(o,a){function i(){return new e((function(n,i){!function n(o,a,i,c){var u=l(t[o],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(o,a,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=h,c(y,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var St=function(){var t=b().firestore,e=Object(n.useState)({visible:!1}),r=Object(s.a)(e,2),a=r[0],i=r[1],c=Object(n.useState)({visible:!1}),u=Object(s.a)(c,2),f=u[0],h=u[1],v=Object(n.useState)([]),p=Object(s.a)(v,2),m=p[0],y=p[1],g=Object(n.useState)([]),E=Object(s.a)(g,2),w=E[0],O=E[1],x=Object(n.useState)([]),j=Object(s.a)(x,2),L=j[0],k=j[1],_=Object(n.useState)([]),S=Object(s.a)(_,2),P=S[0],F=S[1],C=Object(n.useState)(),I=Object(s.a)(C,2),G=I[0],T=I[1],A=Object(n.useState)(!1),q=Object(s.a)(A,2),Y=q[0],D=q[1],M=Object(n.useState)(!1),R=Object(s.a)(M,2),U=R[0],V=R[1];Object(n.useEffect)((function(){var e=Object(d.g)(Object(d.h)(Object(d.b)(t,"products")),(function(t){var e=t.docs.map((function(t){return Object(yt.a)(Object(yt.a)({},t.data()),{},{id:t.id})}));y(e)})),r=Object(d.g)(Object(d.h)(Object(d.b)(t,"packs")),(function(t){var e=t.docs.map((function(t){return Object(yt.a)(Object(yt.a)({},t.data()),{},{id:t.id})}));O(e)}));return Object(l.a)(_t().mark((function e(){var r,n;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.e)(Object(d.d)(Object(d.b)(t,"config"),"1"));case 2:r=e.sent.data(),n=(null===r||void 0===r?void 0:r.tags)||[],k(n);case 5:case"end":return e.stop()}}),e)})))(),function(){e(),r()}}),[]);var B=lt.a.useForm(),H=Object(s.a)(B,1)[0],J=lt.a.useForm(),Q=Object(s.a)(J,1)[0],Z=function(){var e=Object(l.a)(_t().mark((function e(){var r,n,o,a;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,D(!0),r=H.getFieldsValue(!0),n=r.name,o=r.tags,a=r.price,e.next=5,Object(d.a)(Object(d.b)(t,"products"),{name:n,tags:o,price:parseFloat(a)});case 5:e.sent,i({visible:!1}),st.b.success("El producto se ha creado correctamente"),D(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0),st.b.error("Ocurri\xf3 un error durante la creaci\xf3n del producto");case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(l.a)(_t().mark((function e(r){var n,o,a,c;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,D(!0),n=H.getFieldsValue(!0),o=n.name,a=n.tags,c=n.price,e.next=5,Object(d.i)(Object(d.d)(t,"products",r),{name:o,tags:a,price:parseFloat(c)});case 5:e.sent,i({visible:!1}),st.b.success("El producto se ha editado correctamente"),D(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0),st.b.error("Ocurri\xf3 un error durante la edici\xf3n del producto");case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),tt=function(){var e=Object(l.a)(_t().mark((function e(r){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(d.c)(Object(d.d)(t,"products",r));case 3:e.sent,st.b.success("El producto se ha eliminado correctamente"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),st.b.error("Ocurri\xf3 un error durante el borrado del producto");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),et=function(){var e=Object(l.a)(_t().mark((function e(){var r,n,o,a,i;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,V(!0),r=Q.getFieldsValue(!0),n=r.name,o=r.tag,a=r.price,i=r.units,e.next=5,Object(d.a)(Object(d.b)(t,"packs"),{name:n,tag:o,price:parseFloat(a),units:i});case 5:e.sent,h({visible:!1}),st.b.success("El pack se ha creado correctamente"),V(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0),st.b.error("Ocurri\xf3 un error durante la creaci\xf3n del pack");case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),rt=function(){var e=Object(l.a)(_t().mark((function e(r){var n,o,a,i,c;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,V(!0),n=Q.getFieldsValue(!0),o=n.name,a=n.tag,i=n.price,c=n.units,e.next=5,Object(d.i)(Object(d.d)(t,"packs",r),{name:o,tag:a,price:parseFloat(i),units:c});case 5:e.sent,h({visible:!1}),st.b.success("El pack se ha editado correctamente"),V(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0),st.b.error("Ocurri\xf3 un error durante la edici\xf3n del pack");case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),nt=function(){var e=Object(l.a)(_t().mark((function e(r){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(d.c)(Object(d.d)(t,"packs",r));case 3:e.sent,st.b.success("El pack se ha eliminado correctamente"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),st.b.error("Ocurri\xf3 un error durante el borrado del pack");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),ot=[{title:"Nombre",dataIndex:"name",key:"name"},{title:"Opciones",render:function(t){return o.a.createElement("div",null,o.a.createElement(W.a,{onClick:function(){H.setFieldsValue({name:t.name,price:t.price,tags:t.tags}),F(t.tags),i({visible:!0,edit:!0,id:t.id})}},o.a.createElement(xt.a,null)),"\xa0",o.a.createElement(W.a,{color:"volcano",onClick:function(){kt({desea:"eliminar",esto:t.name,loading:Y,fn:function(){var e=Object(l.a)(_t().mark((function e(){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(!0),e.next=3,tt(t.id);case 3:D(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()})}},o.a.createElement(jt.a,null)))}}],at=[{title:"Nombre",dataIndex:"name",key:"name"},{title:"Opciones",render:function(t){return o.a.createElement("div",null,o.a.createElement(W.a,{onClick:function(){Q.setFieldsValue({name:t.name,price:t.price,tag:t.tag,units:t.units}),T(t.tag),h({visible:!0,edit:!0,id:t.id})}},o.a.createElement(xt.a,null)),"\xa0",o.a.createElement(W.a,{color:"volcano",onClick:function(){kt({desea:"eliminar",esto:t.name,loading:Y,fn:function(){var e=Object(l.a)(_t().mark((function e(){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return V(!0),e.next=3,nt(t.id);case 3:V(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()})}},o.a.createElement(jt.a,null)))}}];return o.a.createElement(K,null,o.a.createElement("h2",null,"Productos"),o.a.createElement(N.a,{onClick:function(){return i({visible:!0,edit:!1})},onCancel:function(){return i({visible:!1})},style:{marginBottom:"1em"}},"Crear producto"),o.a.createElement("div",{style:{width:"100%"}},o.a.createElement(Et.a,{dataSource:m,rowKey:"id",columns:ot})),o.a.createElement("h2",null,"Packs"),o.a.createElement(N.a,{onClick:function(){return h({visible:!0,edit:!1})},onCancel:function(){return h({visible:!1})},style:{marginBottom:"1em"}},"Crear pack"),o.a.createElement("div",{style:{width:"100%"}},o.a.createElement(Et.a,{dataSource:w,rowKey:"id",columns:at})),o.a.createElement(wt.a,{visible:a.visible,onCancel:function(){return i({visible:!1})},onOk:function(){return(null===a||void 0===a?void 0:a.edit)?$(null===a||void 0===a?void 0:a.id):Z()},footer:null},o.a.createElement("h3",null,(null===a||void 0===a?void 0:a.edit)?"Editar producto":"Nuevo producto"),o.a.createElement(lt.a,{form:H,layout:"vertical",onFinish:function(){return(null===a||void 0===a?void 0:a.edit)?$(null===a||void 0===a?void 0:a.id):Z()}},o.a.createElement(lt.a.Item,{name:"name",label:"Nombre",rules:[{required:!0}]},o.a.createElement(ft.a,null)),o.a.createElement(lt.a.Item,{name:"price",label:"Precio",rules:[{required:!0}]},o.a.createElement(ft.a,{type:"number"})),o.a.createElement(lt.a.Item,{label:"Etiquetas"},o.a.createElement(Ot.a,{onChange:function(t){var e=X.a.uniq([].concat(Object(z.a)(H.getFieldValue("tags")||[]),[t]));H.setFieldsValue({tags:e}),F(e)}},L.map((function(t,e){return o.a.createElement(Ot.a.Option,{value:t,key:"tag-option"+e},t)}))),(P||[]).map((function(t,e){return o.a.createElement(W.a,{key:"tag"+e,onClick:function(){var e=H.getFieldValue("tags").filter((function(e){return e!==t}));H.setFieldsValue({tags:e}),F(e)}},t," \xd7")})))),o.a.createElement("div",null,o.a.createElement(N.a,{type:"primary",loading:Y,onClick:function(){return H.submit()}},(null===a||void 0===a?void 0:a.edit)?"Editar":"Crear"),"\xa0\xa0",o.a.createElement(N.a,{onClick:function(){H.resetFields(),D(!1),i({visible:!1})}},"Cancelar"))),o.a.createElement(wt.a,{visible:f.visible,onCancel:function(){return h({visible:!1})},onOk:function(){return(null===f||void 0===f?void 0:f.edit)?rt(null===f||void 0===f?void 0:f.id):et()},footer:null},o.a.createElement("h3",null,(null===f||void 0===f?void 0:f.edit)?"Editar pack":"Nuevo pack"),o.a.createElement(lt.a,{form:Q,layout:"vertical",onFinish:function(){return(null===f||void 0===f?void 0:f.edit)?rt(null===f||void 0===f?void 0:f.id):et()}},o.a.createElement(lt.a.Item,{name:"name",label:"Nombre del pack",rules:[{required:!0}]},o.a.createElement(ft.a,null)),o.a.createElement(lt.a.Item,{name:"price",label:"Precio",type:"number",rules:[{required:!0}]},o.a.createElement(ft.a,{type:"number"})),o.a.createElement(lt.a.Item,{name:"units",label:"Unidades",rules:[{required:!0}]},o.a.createElement(ft.a,{type:"number"})),o.a.createElement(lt.a.Item,{label:"Etiqueta",rules:[{required:!0}]},o.a.createElement(Ot.a,{onChange:function(t){T(t),Q.setFieldsValue({tag:t})},value:G},L.map((function(t,e){return o.a.createElement(Ot.a.Option,{value:t,key:"tag-option"+e},t)}))))),o.a.createElement("div",null,o.a.createElement(N.a,{type:"primary",loading:U,onClick:function(){return Q.submit()}},(null===f||void 0===f?void 0:f.edit)?"Editar":"Crear"),"\xa0\xa0",o.a.createElement(N.a,{onClick:function(){Q.resetFields(),V(!1),h({visible:!1})}},"Cancelar"))))},Pt=r(295),Nt=r(67),Ft=r.n(Nt);function Ct(){Ct=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new x(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function d(){}function h(){}var v={};c(v,o,(function(){return this}));var p=Object.getPrototypeOf,m=p&&p(p(j([])));m&&m!==e&&r.call(m,o)&&(v=m);var y=h.prototype=f.prototype=Object.create(v);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(o,a){function i(){return new e((function(n,i){!function n(o,a,i,c){var u=l(t[o],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(o,a,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=h,c(y,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var It,Gt=function(){var t=b().firestore,e=(Object(c.g)(),Object(n.useState)({visible:!1})),r=Object(s.a)(e,2),a=r[0],i=r[1],u=Object(n.useState)([]),f=Object(s.a)(u,2),h=f[0],v=f[1],p=Object(n.useState)(!1),m=Object(s.a)(p,2),y=m[0],g=m[1];Object(n.useEffect)((function(){var e=Object(d.g)(Object(d.h)(Object(d.b)(t,"events")),(function(t){var e=t.docs.map((function(t){return Object(yt.a)(Object(yt.a)({},t.data()),{},{id:t.id})}));v(e)}));return function(){return e()}}),[]);var E=lt.a.useForm(),w=Object(s.a)(E,1)[0],O=function(){var e=Object(l.a)(Ct().mark((function e(){var r,n,o;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g(!0),r=w.getFieldsValue(!0),n=r.name,o=r.date,e.next=5,Object(d.a)(Object(d.b)(t,"events"),{name:n,date:o.toDate()});case 5:e.sent,i({visible:!1}),st.b.success("El evento se ha creado correctamente"),g(!1),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0),st.b.error("Ocurri\xf3 un error durante la creaci\xf3n del evento"),g(!1);case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(l.a)(Ct().mark((function e(r){var n,o,a;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g(!0),n=w.getFieldsValue(!0),o=n.name,a=n.date,e.next=5,Object(d.i)(Object(d.d)(t,"events",r),{name:o,date:a.toDate()});case 5:e.sent,i({visible:!1}),st.b.success("El evento se ha editado correctamente"),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),st.b.error("Ocurri\xf3 un error durante la edici\xf3n del evento"),g(!1);case 15:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),j=[{title:"Nombre",dataIndex:"name",key:"name"},{title:"Opciones",render:function(t){return o.a.createElement("div",null,o.a.createElement(W.a,{onClick:function(){console.log(t),w.setFieldsValue({name:t.name,date:Ft()(t.date.toDate())}),i({visible:!0,edit:!0,id:t.id})}},o.a.createElement(xt.a,null)))}},{title:"",render:function(t){return o.a.createElement(k.b,{to:"/eventos/".concat(t.id)},o.a.createElement(N.a,{type:"primary"},"Entrar"))}}];return o.a.createElement(K,null,o.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",width:"100%"}},o.a.createElement("h2",null,"Eventos"),o.a.createElement(N.a,{onClick:function(){return i({visible:!0,edit:!1})},onCancel:function(){return i({visible:!1})}},"Crear evento")),o.a.createElement("div",{style:{width:"100%"}},o.a.createElement(Et.a,{dataSource:h,rowKey:"id",columns:j})),o.a.createElement(wt.a,{visible:a.visible,onCancel:function(){return i({visible:!1})},onOk:function(){return(null===a||void 0===a?void 0:a.edit)?x(null===a||void 0===a?void 0:a.id):O()},footer:null},o.a.createElement("h3",null,(null===a||void 0===a?void 0:a.edit)?"Editar evento":"Nuevo evento"),o.a.createElement(lt.a,{form:w,layout:"vertical",onFinish:function(){return(null===a||void 0===a?void 0:a.edit)?x(null===a||void 0===a?void 0:a.id):O()}},o.a.createElement(lt.a.Item,{name:"name",label:"Nombre",rules:[{required:!0}]},o.a.createElement(ft.a,null)),o.a.createElement(lt.a.Item,{name:"date",label:"Fecha",rules:[{required:!0}]},o.a.createElement(Pt.a,null))),o.a.createElement("div",null,o.a.createElement(N.a,{type:"primary",loading:y,onClick:function(){return w.submit()}},(null===a||void 0===a?void 0:a.edit)?"Editar":"Crear"),"\xa0\xa0",o.a.createElement(N.a,{onClick:function(){w.resetFields(),g(!1),i({visible:!1})}},"Cancelar"))))};function Tt(){Tt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new x(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function d(){}function h(){}var v={};c(v,o,(function(){return this}));var p=Object.getPrototypeOf,m=p&&p(p(j([])));m&&m!==e&&r.call(m,o)&&(v=m);var y=h.prototype=f.prototype=Object.create(v);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(o,a){function i(){return new e((function(n,i){!function n(o,a,i,c){var u=l(t[o],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(o,a,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=h,c(y,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var At=_.a.div(It||(It=Object(u.a)(["\n    display: flex;\n    flex-direction: row;\n    width: 100%;\n    justify-content: space-evenly;\n\n"]))),qt=function(){var t=b().firestore,e=Object(c.h)().id,r=Object(n.useState)([]),a=Object(s.a)(r,2),i=(a[0],a[1]),u=Object(n.useState)(),f=Object(s.a)(u,2),h=f[0],v=f[1],p=Object(n.useState)([]),m=Object(s.a)(p,2),y=(m[0],m[1]);return Object(n.useEffect)((function(){var r=Object(d.g)(Object(d.h)(Object(d.b)(t,"products")),(function(t){var e=t.docs.map((function(t){return Object(yt.a)(Object(yt.a)({},t.data()),{},{id:t.id})}));i(e)}));return Object(l.a)(Tt().mark((function r(){var n,o,a;return Tt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(d.e)(Object(d.d)(Object(d.b)(t,"events"),e));case 2:return n=r.sent.data(),r.next=5,Object(d.e)(Object(d.d)(Object(d.b)(t,"config"),"1"));case 5:o=r.sent.data(),a=(null===o||void 0===o?void 0:o.tags)||[],v(n),y(a);case 9:case"end":return r.stop()}}),r)})))(),function(){return r()}}),[]),o.a.createElement(K,null,o.a.createElement("h2",null,"Evento ",null===h||void 0===h?void 0:h.name),o.a.createElement(At,null,o.a.createElement(k.b,{to:"/eventos/".concat(e,"/nueva-venta")},o.a.createElement(N.a,null,"Nueva venta")),o.a.createElement(k.b,{to:"/eventos/".concat(e,"/resumen")},o.a.createElement(N.a,null,"Ver resumen"))))},Yt=r(208),Dt=function(t,e,r){return(r?Object(Q.get)(t,r):t)>(r?Object(Q.get)(e,r):e)?1:-1};function Mt(){Mt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new x(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function d(){}function h(){}var v={};c(v,o,(function(){return this}));var p=Object.getPrototypeOf,m=p&&p(p(j([])));m&&m!==e&&r.call(m,o)&&(v=m);var y=h.prototype=f.prototype=Object.create(v);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(o,a){function i(){return new e((function(n,i){!function n(o,a,i,c){var u=l(t[o],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(o,a,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=h,c(y,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var Rt=function(){var t,e,r,a,i,u,f=b().firestore,h=Object(c.h)().id,v=Object(n.useState)([]),p=Object(s.a)(v,2),m=p[0],y=p[1],g=Object(n.useState)([]),E=Object(s.a)(g,2),w=(E[0],E[1]),O=Object(n.useState)([]),x=Object(s.a)(O,2),j=x[0],L=x[1],_=Object(n.useState)(),S=Object(s.a)(_,2),P=S[0],F=S[1],C=Object(n.useState)([]),I=Object(s.a)(C,2),G=(I[0],I[1]),T=Object(n.useState)(),A=Object(s.a)(T,2),q=A[0],Y=A[1],D=Object(n.useState)({visible:!1}),M=Object(s.a)(D,2),R=M[0],U=M[1];Object(n.useEffect)((function(){var t=Object(d.g)(Object(d.h)(Object(d.b)(f,"products")),(function(t){var e=t.docs.map((function(t){return Object(yt.a)(Object(yt.a)({},t.data()),{},{id:t.id})}));y(e)})),e=Object(d.g)(Object(d.h)(Object(d.b)(f,"packs")),(function(t){var e=t.docs.map((function(t){return Object(yt.a)(Object(yt.a)({},t.data()),{},{id:t.id})}));w(e)})),r=Object(d.g)(Object(d.h)(Object(d.b)(f,"events/".concat(h,"/sales"))),(function(t){var e=t.docs.map((function(t){return Object(yt.a)(Object(yt.a)({},t.data()),{},{id:t.id})}));L(e)}));return Object(l.a)(Mt().mark((function t(){var e,r,n,o;return Mt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(d.e)(Object(d.d)(Object(d.b)(f,"events"),h));case 2:return e=t.sent,r=Object(yt.a)({id:e.id,ref:e.ref},e.data()),t.next=6,Object(d.e)(Object(d.d)(Object(d.b)(f,"config"),"1"));case 6:n=t.sent.data(),o=(null===n||void 0===n?void 0:n.tags)||[],F(r),G(o);case 10:case"end":return t.stop()}}),t)})))(),function(){t(),e(),r()}}),[]);var V=[{title:"Fecha",dataIndex:"createdAt",key:"date",render:function(t){return Ft()(1e3*t.seconds).format("DD-MM-YYYY HH:mm")},sorter:function(t,e){return Dt(null===t||void 0===t?void 0:t.createdAt,null===e||void 0===e?void 0:e.createdAt,"seconds")}},{title:"N\xba art\xedculos",dataIndex:"items",key:"items",render:function(t){return t.map((function(t){return(null===t||void 0===t?void 0:t.subItems)?t.subItems:t})).flat().length}},{title:"Importe",dataIndex:"total",key:"total",render:function(t){return t+"\u20ac"},sorter:function(t,e){return Dt(t,e,"total")}},{key:"detalleBtn",render:function(t){return o.a.createElement(N.a,{onClick:function(){var e=Object(yt.a)(Object(yt.a)({},t),{},{items:((null===t||void 0===t?void 0:t.items)||[]).map((function(t){var e;return Object(yt.a)(Object(yt.a)({},t),{},{name:null===(e=m.find((function(e){return e.id===t.id})))||void 0===e?void 0:e.name})}))});U({visible:!0,item:e})}},o.a.createElement(Yt.a,null))}}];return Object(n.useEffect)((function(){var t=j.reduce((function(t,e){return t+(null===e||void 0===e?void 0:e.total)}),0);Y(t+"\u20ac")}),[j]),o.a.createElement(K,null,o.a.createElement(k.b,{to:"/eventos/".concat(h)},"< Volver"),o.a.createElement("h2",null,"Resumen ",null===P||void 0===P?void 0:P.name),o.a.createElement("h4",null,"Total: ",q),o.a.createElement(Et.a,{columns:V,dataSource:j,rowKey:"id"}),o.a.createElement(wt.a,{visible:null===R||void 0===R?void 0:R.visible,footer:null,onCancel:function(){return U({visible:!1})}},o.a.createElement("p",null,o.a.createElement("strong",null,"Evento: "),null===P||void 0===P?void 0:P.name),o.a.createElement("p",null,o.a.createElement("strong",null,"Hora: "),Ft()(null===R||void 0===R||null===(t=R.item)||void 0===t||null===(e=t.createdAt)||void 0===e?void 0:e.seconds,"X").format("DD-MM-YYYY HH:mm")),o.a.createElement("p",null,o.a.createElement("strong",null,"Forma de pago: "),null===R||void 0===R||null===(r=R.item)||void 0===r?void 0:r.paymentMethod),(null===R||void 0===R||null===(a=R.item)||void 0===a?void 0:a.description)&&o.a.createElement("p",null,o.a.createElement("strong",null,"Notas: "),null===R||void 0===R||null===(i=R.item)||void 0===i?void 0:i.description),o.a.createElement("h3",null,"Productos"),o.a.createElement(Et.a,{rowKey:"id",dataSource:(null===R||void 0===R||null===(u=R.item)||void 0===u?void 0:u.items)||[],columns:[{title:"Nombre",dataIndex:"name",key:"name",sorter:function(t,e){return Dt(t,e,"name")}},{title:"Cantidad",dataIndex:"qty",key:"qty",sorter:function(t,e){return Dt(t,e,"qty")}},{title:"Importe",dataIndex:"price",key:"price",render:function(t){return t+"\u20ac"},sorter:function(t,e){return Dt(t,e,"price")}}]}),o.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},o.a.createElement(N.a,{type:"primary",onClick:function(){return U({visible:!1})}},"Cerrar"))))},Ut=r(303);function Vt(){Vt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new x(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function d(){}function h(){}var v={};c(v,o,(function(){return this}));var p=Object.getPrototypeOf,m=p&&p(p(j([])));m&&m!==e&&r.call(m,o)&&(v=m);var y=h.prototype=f.prototype=Object.create(v);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(o,a){function i(){return new e((function(n,i){!function n(o,a,i,c){var u=l(t[o],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(o,a,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=h,c(y,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var Bt,Kt,zt=function(){var t,e,r,a,i,u,f,h=b().firestore,v=(Object(c.g)(),Object(n.useState)({visible:!1})),p=Object(s.a)(v,2),m=(p[0],p[1],Object(n.useState)([])),y=Object(s.a)(m,2),g=y[0],E=y[1],w=Object(n.useState)(!1),O=Object(s.a)(w,2),x=O[0],j=O[1],L=Object(n.useState)(!1),_=Object(s.a)(L,2),S=_[0],P=_[1],F=Object(n.useState)([]),C=Object(s.a)(F,2),I=C[0],G=C[1],T=Object(n.useState)([]),A=Object(s.a)(T,2),q=A[0],Y=A[1],D=Object(n.useState)([]),M=Object(s.a)(D,2),R=M[0],U=M[1],V=Object(n.useState)({visible:!1}),B=Object(s.a)(V,2),H=B[0],J=B[1],Q=Object(n.useState)({visible:!1}),Z=Object(s.a)(Q,2),$=Z[0],tt=Z[1];Object(n.useEffect)((function(){Object(d.g)(Object(d.h)(Object(d.b)(h,"products")),(function(t){var e=t.docs.map((function(t){return Object(yt.a)(Object(yt.a)({},t.data()),{},{id:t.id})}));Y(e)}));var t=Object(d.g)(Object(d.h)(Object(d.b)(h,"reservations")),(function(t){var e=t.docs.map((function(t){return Object(yt.a)(Object(yt.a)({},t.data()),{},{id:t.id})})),r=Object.values(X.a.groupBy(e.map((function(t){return t.items})).flat(),"id")).map((function(t){var e=t.reduce((function(t,e){return t+((null===e||void 0===e?void 0:e.qty)||0)-((null===e||void 0===e?void 0:e.delivered)||0)}),0);return Object(yt.a)(Object(yt.a)({},t[0]),{},{qty:e})})).filter((function(t){return t.qty>0}));U(r),E(e)}));return function(){return t()}}),[]),Object(n.useEffect)((function(){G((g||[]).filter((function(t){return t.completed===S})))}),[g,S]);var et=lt.a.useForm(),rt=(Object(s.a)(et,1)[0],function(){var t=Object(l.a)(Vt().mark((function t(e){return Vt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(d.c)(Object(d.d)(h,"reservations",e));case 3:t.sent,st.b.success("La reserva se ha eliminado correctamente"),t.next=12;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0),st.b.error("Ocurri\xf3 un error durante el borrado de la reserva"),j(!1);case 12:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()),nt=[{title:"Nombre",dataIndex:"name",key:"name",sorter:function(t,e){return Dt(null===t||void 0===t?void 0:t.name,null===e||void 0===e?void 0:e.name)}},{title:"Forma de contacto",dataIndex:"reservationMethod",key:"reservationMethod",sorter:function(t,e){return Dt(null===t||void 0===t?void 0:t.reservationMethod,null===e||void 0===e?void 0:e.reservationMethod)}},{title:"Direcci\xf3n/N\xfamero",dataIndex:"address",key:"address",sorter:function(t,e){return Dt(null===t||void 0===t?void 0:t.address,null===e||void 0===e?void 0:e.address)}},{title:"Fecha de reserva",dataIndex:"createdAt",key:"createdAt",sorter:function(t,e){var r=t.createdAt.toDate(),n=e.createdAt.toDate();return Dt(r,n)},render:function(t){return Ft()(t.toDate()).format("DD-MM-YYYY HH:mm")}},{title:"Productos"+(S?"":" pendientes"),key:"products",render:function(t){return o.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},(t.items||[]).filter((function(t){return S||t.qty>(t.delivered||0)})).map((function(e){var r,n=null===(r=(q||[]).find((function(t){return t.id===e.id})))||void 0===r?void 0:r.name;return o.a.createElement("span",{key:"item-".concat(t.id,"-").concat(e.id)},S?e.qty:parseInt(e.qty)-parseInt(e.delivered||0),"x ",n)})))}},{title:"Opciones",render:function(t){return o.a.createElement("div",{style:{display:"flex"}},o.a.createElement(W.a,{onClick:function(){J({visible:!0,item:t})}},o.a.createElement(Yt.a,null)),"\xa0",o.a.createElement(W.a,{onClick:function(){return tt({visible:!0,item:t})}},o.a.createElement(Ut.a,null)),"\xa0",!(null===t||void 0===t?void 0:t.completed)&&o.a.createElement(W.a,{color:"volcano",onClick:function(){kt({desea:"eliminar",esto:"la reserva de ".concat(t.name),loading:x,fn:function(){var e=Object(l.a)(Vt().mark((function e(){return Vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.next=3,rt(t.id);case 3:j(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()})}},o.a.createElement(jt.a,null)))}}],ot=[{title:"Nombre",key:"name",sorter:function(t,e){var r,n,o=null===(r=(q||[]).find((function(e){return e.id===t.id})))||void 0===r?void 0:r.name,a=null===(n=(q||[]).find((function(t){return t.id===e.id})))||void 0===n?void 0:n.name;Dt(o,a)},render:function(t){var e=(q||[]).find((function(e){return(null===e||void 0===e?void 0:e.id)===(null===t||void 0===t?void 0:t.id)}));return null===e||void 0===e?void 0:e.name}},{title:"N\xfamero de unidades",key:"qty",dataIndex:"qty",sorter:function(t,e){return Dt(t,e,"qty")}}],at=function(){var t=Object(l.a)(Vt().mark((function t(e){var r,n,o;return Vt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.reservation,n=e.deliveredProducts,o=e.complete,kt(o?{desea:"entregar",esto:"el pedido completo",fn:function(){var t=Object(l.a)(Vt().mark((function t(){var e;return Vt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.items.map((function(t){return Object(yt.a)(Object(yt.a)({},t),{},{delivered:t.qty})})),t.next=3,Object(d.j)(Object(d.d)(h,"reservations",r.id),{items:e,completed:!0});case 3:tt({visible:!1});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}:{desea:"entregar",esto:"los productos seleccionados",fn:function(){var t=Object(l.a)(Vt().mark((function t(){var e,o;return Vt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(!n||Array.isArray(n)&&n.every((function(t){return 0===t.qty||"0"===t.qty})))){t.next=4;break}st.b.error("No hay ning\xfan producto marcado para entregar (todas las cantidades son cero)"),t.next=17;break;case 4:if(!n.some((function(t){return t.qty<0}))){t.next=8;break}st.b.error("La cantidad de producto no puede ser inferior a cero"),t.next=17;break;case 8:if(!(e=r.items.map((function(t){var e,r=(null===(e=n.find((function(e){return e.id===t.id})))||void 0===e?void 0:e.qty)||0;return Object(yt.a)(Object(yt.a)({},t),{},{delivered:parseInt(t.delivered||0)+parseInt(r)})}))).some((function(t){return t.qty<t.delivered}))){t.next=13;break}st.b.error("La cantidad de productos entregados supera la cantidad reservada"),t.next=17;break;case 13:return o=e.every((function(t){return parseInt(t.qty)===parseInt(t.delivered)})),t.next=16,Object(d.j)(Object(d.d)(h,"reservations",r.id),{items:e,completed:o});case 16:tt({visible:!1});case 17:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return o.a.createElement(K,null,o.a.createElement("h2",null,"Reservas"),o.a.createElement("div",{style:{display:"flex",justifyContent:"center",width:"100%"}},o.a.createElement("div",null,o.a.createElement(k.b,{to:"/nueva-reserva"},o.a.createElement(N.a,null,"Crear reserva")),o.a.createElement(N.a,{onClick:function(){return P(!S)}},"Mostrar ",S?"sin completar":"completadas"))),o.a.createElement("br",null),o.a.createElement("div",{style:{width:"100%",overflowX:"auto"}},o.a.createElement(Et.a,{dataSource:I,rowKey:"id",columns:nt})),o.a.createElement("br",null),o.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",width:"100%"}},o.a.createElement("h2",null,"Productos pendientes de entrega")),o.a.createElement("div",{style:{width:"100%",overflowX:"auto"}},o.a.createElement(Et.a,{dataSource:R,rowKey:"id",columns:ot})),o.a.createElement(wt.a,{visible:null===H||void 0===H?void 0:H.visible,footer:null,onCancel:function(){return J({visible:!1})}},o.a.createElement("p",null,o.a.createElement("string",null,o.a.createElement("strong",null,"Nombre:")," ",null===H||void 0===H||null===(t=H.item)||void 0===t?void 0:t.name)),o.a.createElement("p",null,o.a.createElement("string",null,o.a.createElement("strong",null,"Forma de contacto:")," ",null===H||void 0===H||null===(e=H.item)||void 0===e?void 0:e.reservationMethod)),o.a.createElement("p",null,o.a.createElement("string",null,o.a.createElement("strong",null,"Direcci\xf3n/N\xfamero:")," ",null===H||void 0===H||null===(r=H.item)||void 0===r?void 0:r.address)),(null===H||void 0===H||null===(a=H.item)||void 0===a?void 0:a.observations)&&o.a.createElement("p",null,o.a.createElement("string",null,o.a.createElement("strong",null,"Observaciones:")," ",null===H||void 0===H||null===(i=H.item)||void 0===i?void 0:i.observations)),o.a.createElement("h4",null,"Productos"),o.a.createElement(Et.a,{columns:[{title:"Nombre",key:"name",sorter:function(t,e){var r,n,o=null===(r=(q||[]).find((function(e){return e.id===t.id})))||void 0===r?void 0:r.name,a=null===(n=(q||[]).find((function(t){return t.id===e.id})))||void 0===n?void 0:n.name;Dt(o,a)},render:function(t){var e=(q||[]).find((function(e){return(null===e||void 0===e?void 0:e.id)===(null===t||void 0===t?void 0:t.id)}));return null===e||void 0===e?void 0:e.name}},{title:"Cantidad",dataIndex:"qty",key:"qty",sorter:function(t,e){return Dt(t,e,"qty")}}],dataSource:(null===H||void 0===H||null===(u=H.item)||void 0===u?void 0:u.items)||[]}),o.a.createElement(N.a,{onClick:function(){return J({visible:!1})}},"Cerrar")),o.a.createElement(wt.a,{visible:null===$||void 0===$?void 0:$.visible,footer:null,onCancel:function(){return tt({visible:!1})}},o.a.createElement("h4",null,"Entrega de productos"),o.a.createElement(Et.a,{columns:[{title:"Nombre",key:"name",render:function(t){var e=(q||[]).find((function(e){return(null===e||void 0===e?void 0:e.id)===(null===t||void 0===t?void 0:t.id)}));return null===e||void 0===e?void 0:e.name}},{title:"Cantidad",dataIndex:"qty",key:"qty",sorter:function(t,e){return Dt(t,e,"qty")}},{title:"Ya entregadas",dataIndex:"delivered",key:"delivered",sorter:function(t,e){return Dt(t,e,"delivered")},render:function(t){return t||0}},{title:"Se entregan",key:"deliveredQty",render:function(t){var e;return o.a.createElement(ft.a,{type:"number",value:(null===(e=((null===$||void 0===$?void 0:$.deliverQtys)||[]).find((function(e){return e.id===t.id})))||void 0===e?void 0:e.qty)||0,onChange:function(e){tt(Object(yt.a)(Object(yt.a)({},$),{},{deliverQtys:[].concat(Object(z.a)(($.deliverQtys||[]).filter((function(e){return e.id!==t.id}))),[{id:t.id,qty:e.target.value}])}))}})}}],dataSource:(null===$||void 0===$||null===(f=$.item)||void 0===f?void 0:f.items)||[],rowKey:"id"}),o.a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"space-evenly"}},o.a.createElement(N.a,{onClick:function(){return tt({visible:!1})}},"Cerrar"),o.a.createElement(N.a,{type:"primary",onClick:function(){return at({reservation:$.item,deliveredProducts:$.deliverQtys})}},"Entregar"),o.a.createElement(N.a,{type:"primary",onClick:function(){return at({reservation:$.item,complete:!0})}},"Entregar todo"))))},Wt=r(161);function Ht(){Ht=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new x(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function f(){}function d(){}function h(){}var v={};c(v,o,(function(){return this}));var p=Object.getPrototypeOf,m=p&&p(p(j([])));m&&m!==e&&r.call(m,o)&&(v=m);var y=h.prototype=f.prototype=Object.create(v);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(o,a){function i(){return new e((function(n,i){!function n(o,a,i,c){var u=l(t[o],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(o,a,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=h,c(y,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var Jt=_.a.div(Bt||(Bt=Object(u.a)(["\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    justify-content: center;\n"]))),Qt=_.a.div(Kt||(Kt=Object(u.a)(["\n    width: 100%;\n    display: flex;\n    justify-content: space-evenly;\n"]))),Xt=function(){var t,e=b().firestore,r=Object(c.h)().id,a=lt.a.useForm(),i=Object(s.a)(a,1)[0],u=Object(c.g)(),f=Object(n.useState)([]),h=Object(s.a)(f,2),v=h[0],p=h[1],m=Object(n.useState)([]),y=Object(s.a)(m,2),g=y[0],E=y[1],w=Object(n.useState)([]),O=Object(s.a)(w,2),x=O[0],j=O[1],L=Object(n.useState)(),_=Object(s.a)(L,2),S=(_[0],_[1]),P=Object(n.useState)([]),F=Object(s.a)(P,2),C=F[0],I=F[1],G=Object(n.useState)(),T=Object(s.a)(G,2),A=T[0],q=T[1],Y=Object(n.useState)({}),D=Object(s.a)(Y,2),M=D[0],R=D[1],U=Object(n.useState)([]),V=Object(s.a)(U,2),B=V[0],W=V[1],H=Object(n.useState)({visible:!1}),J=Object(s.a)(H,2),Q=J[0],Z=J[1],$=Object(n.useState)({visible:!1}),tt=Object(s.a)($,2),rt=tt[0],nt=tt[1],ot=Object(n.useState)(),it=Object(s.a)(ot,2),ct=it[0],ut=it[1],dt=Object(n.useState)(),ht=Object(s.a)(dt,2),vt=ht[0],pt=ht[1],gt=Object(n.useState)(),bt=Object(s.a)(gt,2),Et=bt[0],xt=bt[1],jt=Object(n.useState)(),Lt=Object(s.a)(jt,2),kt=Lt[0],_t=Lt[1],St=Object(n.useState)(!1),Pt=Object(s.a)(St,2),Nt=Pt[0],Ft=Pt[1],Ct=Object(n.useState)(!1),It=Object(s.a)(Ct,2),Gt=It[0],Tt=It[1],At=function(t,e,r){var n=M[t],o=Object(yt.a)({},M),a=(n||0)+e;a<1||r?o=X.a.omit(o,[t]):o[t]=a,R(o)};Object(n.useEffect)((function(){var t="/nueva-reserva"===u.location.pathname;Tt(t);var n=Object(d.g)(Object(d.h)(Object(d.b)(e,"products")),(function(t){var e=t.docs.map((function(t){return Object(yt.a)(Object(yt.a)({},t.data()),{},{id:t.id})}));p(e)})),o=Object(d.g)(Object(d.h)(Object(d.b)(e,"packs")),(function(t){var e=t.docs.map((function(t){return Object(yt.a)(Object(yt.a)({},t.data()),{},{id:t.id})}));E(e)}));return Object(l.a)(Ht().mark((function n(){var o,a,i;return Ht().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=5;break}return n.next=3,Object(d.e)(Object(d.d)(Object(d.b)(e,"events"),r));case 3:o=n.sent.data(),S(o);case 5:return n.next=7,Object(d.e)(Object(d.d)(Object(d.b)(e,"config"),"1"));case 7:a=n.sent.data(),i=(null===a||void 0===a?void 0:a.tags)||[],I(i);case 10:case"end":return n.stop()}}),n)})))(),function(){n(),o()}}),[]),Object(n.useEffect)((function(){!function(t,e){var r=t.filter((function(t){return!e||t.tags.includes(A)})).sort((function(t,e){return t.tags[0]>e.tags[1]?1:-1})).sort((function(t,e){return t.name>e.name?1:-1}));j(r)}(v,A)}),[v,A]),Object(n.useEffect)((function(){rt.visible&&ut(qt())}),[rt]);var qt=function(){return Object.entries(M).reduce((function(t,e){var r;return t+[].concat(Object(z.a)(v),Object(z.a)(g)).find((function(t){return t.id===e[0]})).price*((null===(r=e[1])||void 0===r?void 0:r.qty)||e[1])}),0)};return o.a.createElement(K,null,o.a.createElement(k.b,{to:"/eventos/".concat(r)},"< Volver"),o.a.createElement("h2",null,"Nueva ",Gt?"reserva":"venta {event?.name}"),o.a.createElement(N.a,{onClick:function(){return nt({visible:!0})}},"Acabar ",Gt?"reserva":"venta"),o.a.createElement("br",null),o.a.createElement("h4",null,"Productos"),o.a.createElement(Wt.a.Group,{onChange:function(t){return q(t.target.value)},value:A,style:{display:"flex",flexWrap:"wrap",justifyContent:"center"}},[].concat(Object(z.a)(C),["Packs"]).map((function(t,e){return o.a.createElement(Wt.a.Button,{key:"tag-"+e,value:t,onClick:function(){return t===A&&q(void 0)}},t)}))),o.a.createElement("br",null),"Packs"!==A&&o.a.createElement("div",null,o.a.createElement(Jt,null,x.map((function(t){return o.a.createElement(et,{key:"fp-".concat(t.id),product:t,mutateStatus:At,qty:M[t.id]||0})}))),o.a.createElement("br",null)),o.a.createElement("h4",null,"Packs"),o.a.createElement(Jt,null,g.map((function(t){return o.a.createElement(et,{key:"pack-".concat(t.id),product:t,mutateStatus:At,qty:M[t.id]||0,modalPack:Q,setModalPack:Z})}))),o.a.createElement(wt.a,{visible:null===Q||void 0===Q?void 0:Q.visible,onCancel:function(){return Z({visible:!1})},footer:null},o.a.createElement(Jt,null,(v.filter((function(t){var e;return t.tags.includes(null===Q||void 0===Q||null===(e=Q.pack)||void 0===e?void 0:e.tag)}))||[]).map((function(t){return o.a.createElement(at,{key:"pack-".concat(t.id),pack:null===Q||void 0===Q?void 0:Q.pack,product:t,packItems:B,setPackItems:W,qty:B.length||0})}))),o.a.createElement("br",null),o.a.createElement(Jt,null,o.a.createElement(N.a,{onClick:function(){Z({visible:!1}),W([])}},"Cancelar"),o.a.createElement(N.a,{disabled:B.length<(null===Q||void 0===Q||null===(t=Q.pack)||void 0===t?void 0:t.units),type:"primary",onClick:function(){var t,e,r,n,o=Object(yt.a)(Object(yt.a)({},M),{},Object(mt.a)({},null===Q||void 0===Q||null===(t=Q.pack)||void 0===t?void 0:t.id,{qty:((null===(e=M[null===Q||void 0===Q||null===(r=Q.pack)||void 0===r?void 0:r.id])||void 0===e?void 0:e.qty)||0)+1,items:[].concat(Object(z.a)((null===Q||void 0===Q||null===(n=Q.pack)||void 0===n?void 0:n.items)||[]),Object(z.a)(B))}));R(o),Z({visible:!1}),W([])}},"Aceptar"))),o.a.createElement(wt.a,{visible:null===rt||void 0===rt?void 0:rt.visible,onCancel:function(){return nt({visible:!1})},footer:null},o.a.createElement("h2",null,"Total: ",ct,"\u20ac"),o.a.createElement(lt.a,{form:i,layout:"vertical"},o.a.createElement(lt.a.Item,{name:"name",label:"Nombre del cliente",rules:Gt?[{required:!0}]:[]},o.a.createElement(ft.a,null)),Gt&&o.a.createElement(lt.a.Item,{label:"M\xe9todo de contacto",rules:[{required:!0}]},o.a.createElement(Ot.a,{onChange:function(t){xt(t)}},o.a.createElement(Ot.a.Option,{value:"Email"},"Email"),o.a.createElement(Ot.a.Option,{value:"Instagram"},"Instagram"),o.a.createElement(Ot.a.Option,{value:"Tel\xe9fono/Whatsapp"},"Tel\xe9fono/Whatsapp"),o.a.createElement(Ot.a.Option,{value:"Otros"},"Otros"))),Gt&&o.a.createElement(lt.a.Item,{name:"address",label:"Direcci\xf3n/N\xfamero",rules:[{required:!0}]},o.a.createElement(ft.a,null)),!Gt&&o.a.createElement(lt.a.Item,{name:"paymentMethod",label:"Forma de pago",rules:[{required:!0}]},o.a.createElement(Ot.a,{onChange:function(t){pt(t)}},o.a.createElement(Ot.a.Option,{value:"Efectivo"},"Efectivo"),o.a.createElement(Ot.a.Option,{value:"Bizum"},"Bizum"))),o.a.createElement(lt.a.Item,{name:"observations",label:"Observaciones"},o.a.createElement(ft.a.TextArea,null)),"Efectivo"===vt&&o.a.createElement("div",null,o.a.createElement(lt.a.Item,{label:"Me pagan..."},o.a.createElement(ft.a,{type:"number",onChange:function(t){return _t(t.target.value)},suffix:"\u20ac"})),o.a.createElement(lt.a.Item,{label:"Devuelvo"},o.a.createElement(ft.a,{disabled:!0,type:"number",suffix:"\u20ac",value:kt&&kt-ct})))),o.a.createElement("br",null),o.a.createElement(Qt,null,o.a.createElement(N.a,{onClick:function(){nt({visible:!1}),ut()}},"Cancelar"),o.a.createElement(N.a,{loading:Nt,type:"primary",onClick:Object(l.a)(Ht().mark((function t(){var n,o,a,c,l;return Ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Ft(!0),t.prev=1,n=i.getFieldsValue(),o=Object.entries(M).map((function(t){var r,n,o=[].concat(Object(z.a)(v),Object(z.a)(g)).find((function(e){return e.id===t[0]})),a=!!(null===(r=t[1])||void 0===r?void 0:r.items),i=a&&{subItems:t[1].items.map((function(t){return{id:t,ref:Object(d.d)(e,"products",t)}}))};return Object(yt.a)({id:t[0],ref:Object(d.d)(e,a?"packs":"products",t[0]),qty:(null===(n=t[1])||void 0===n?void 0:n.qty)||t[1],price:o.price},i)})),a=Object(yt.a)(Object(yt.a)(Object(yt.a)(Object(yt.a)({createdAt:new Date},vt?{paymentMethod:vt}:{}),Et?{reservationMethod:Et}:{}),{},{total:qt()},n),{},{completed:!Gt,items:o.map((function(t){return Gt?Object(yt.a)(Object(yt.a)({},t),{},{delivered:0}):t}))}),!Gt){t.next=10;break}return t.next=8,Object(d.a)(Object(d.b)(e,"reservations"),a);case 8:t.next=14;break;case 10:return c=Object(d.d)(e,"events",r),l=Object(d.b)(c,"sales"),t.next=14,Object(d.a)(l,a);case 14:st.b.success("La ".concat(Gt?"reserva":"venta"," se ha guardado correctamente")),u.push(Gt?"/reservas":"/eventos/".concat(r)),t.next=22;break;case 18:t.prev=18,t.t0=t.catch(1),console.log(t.t0),st.b.error("Ocurri\xf3 un error durante el guardado de la ".concat(Gt?"reserva":"venta"));case 22:Ft(!1);case 23:case"end":return t.stop()}}),t,null,[[1,18]])})))},"Aceptar"))))},Zt=function(){var t=L(),e=t.isFetchingUser,r=t.isLogged;return!r&&e?o.a.createElement("h1",null,"Cargando..."):r?o.a.createElement($t,null):o.a.createElement(te,null)},$t=function(){return L().isLogged?o.a.createElement(c.d,null,o.a.createElement(c.b,{path:"/productos",exact:!0},o.a.createElement(St,null)),o.a.createElement(c.b,{path:"/eventos",exact:!0},o.a.createElement(Gt,null)),o.a.createElement(c.b,{path:"/eventos/:id/nueva-venta",exact:!0},o.a.createElement(Xt,null)),o.a.createElement(c.b,{path:"/nueva-reserva",exact:!0},o.a.createElement(Xt,null)),o.a.createElement(c.b,{path:"/eventos/:id/resumen",exact:!0},o.a.createElement(Rt,null)),o.a.createElement(c.b,{path:"/eventos/:id",exact:!0},o.a.createElement(qt,null)),o.a.createElement(c.b,{path:"/reservas",exact:!0},o.a.createElement(zt,null)),o.a.createElement(c.b,{path:"/",exact:!0},o.a.createElement(ut,null)),o.a.createElement(c.b,{path:"*"},"Error 404 - Page not found!")):o.a.createElement(c.a,{to:"/login"})},te=function(){return o.a.createElement(c.d,null,o.a.createElement(c.b,{exact:!0,path:["/","/login"]},o.a.createElement(pt,null)),o.a.createElement(c.b,{exact:!0,path:"/register"},o.a.createElement(bt,null)))},ee=function(t){var e=t.children;return o.a.createElement(k.a,null,o.a.createElement(g,null,o.a.createElement(j,null,e)))};r(291),r(292);i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(ee,null,o.a.createElement(Zt,null))),document.getElementById("root"))}},[[210,1,2]]]);
//# sourceMappingURL=main.51a5e274.chunk.js.map